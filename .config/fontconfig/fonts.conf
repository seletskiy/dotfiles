<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
    <!-- reject all bitmap fonts, with the exception of 'terminus' -->
    <selectfont>
        <acceptfont>
            <pattern>
                <patelt name="family"> <string>Monaco</string> </patelt>
            </pattern>
        </acceptfont>
        <rejectfont>
            <pattern>
                <patelt name="scalable"> <bool>false</bool> </patelt>
            </pattern>
        </rejectfont>
    </selectfont>

    <match target="pattern">
        <test name="family" qual="any">
            <string>monospace</string>
        </test>
        <edit mode="assign" name="family" binding="same">
            <string>Monaco</string>
        </edit>
    </match>

    <match target="pattern">
        <test name="family" qual="any">
            <string>Consolas</string>
        </test>
        <test name="pixelsize" qual="any" compare="more_eq">
            <double>11</double>
        </test>
        <test name="pixelsize" qual="any" compare="less_eq">
            <double>16</double>
        </test>
        <edit mode="assign" name="family" binding="same">
            <string>Monaco</string>
        </edit>
    </match>

    <!-- Artificial oblique for fonts without an italic or oblique version. -->
    <match target="font">
        <test name="family" qual="any">
            <string>Monaco</string>
        </test>
        <!-- check to see if the font is roman -->
        <test name="slant">
            <const>roman</const>
        </test>
        <!-- check to see if the pattern requested non-roman -->
        <test target="pattern" name="slant" compare="not_eq">
            <const>roman</const>
        </test>
        <!-- multiply the matrix to slant the font -->
        <edit name="matrix" mode="assign">
            <times>
                <name>matrix</name>
                <matrix>
                    <double>0.82</double>
                    <double>0.2</double>
                    <double>0</double>
                    <double>1</double>
                </matrix>
            </times>
        </edit>
        <!-- pretend the font is oblique now -->
        <edit name="slant" mode="assign">
            <const>oblique</const>
        </edit>
        <!-- and disable embedded bitmaps for artificial oblique -->
        <edit name="embeddedbitmap" mode="assign">
            <bool>false</bool>
        </edit>
    </match>

    <edit name="dpi" mode="assign">
        <double>72</double>
    </edit>
</fontconfig>
